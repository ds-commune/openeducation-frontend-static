<script lang="ts">
  import { Crisis, DefinitionCard, Summary } from "../../components";

  // 8x8 Pixel Grid State
  const GRID_SIZE = 8;
  let pixelGrid = $state<boolean[][]>(
    Array.from({ length: GRID_SIZE }, () => Array(GRID_SIZE).fill(false))
  );

  function togglePixel(row: number, col: number) {
    pixelGrid[row][col] = !pixelGrid[row][col];
  }

  function clearGrid() {
    pixelGrid = Array.from({ length: GRID_SIZE }, () =>
      Array(GRID_SIZE).fill(false)
    );
  }

  // Generate binary string from grid
  const gridBinaryString = $derived(
    pixelGrid
      .map((row) => row.map((cell) => (cell ? "1" : "0")).join(""))
      .join("")
  );

  const gridBinaryFormatted = $derived(
    pixelGrid
      .map((row) => row.map((cell) => (cell ? "1" : "0")).join(" "))
      .join("\n")
  );

  // RGB Color Mixer State
  let red = $state(128);
  let green = $state(128);
  let blue = $state(128);

  const rgbColor = $derived(`rgb(${red}, ${green}, ${blue})`);

  function toBinary8(n: number): string {
    return n.toString(2).padStart(8, "0");
  }

  const redBinary = $derived(toBinary8(red));
  const greenBinary = $derived(toBinary8(green));
  const blueBinary = $derived(toBinary8(blue));
</script>

<svelte:head>
  <meta
    name="description"
    content="–£—Ä–æ–∫ –æ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π, —Ü–≤–µ—Ç–∞ –∏ –∑–≤—É–∫–∞. –ö–∞–∫ –¥–≤–æ–∏—á–Ω—ã–π –∫–æ–¥ –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ –∫–∞—Ä—Ç–∏–Ω–∫–∏ –∏ –º—É–∑—ã–∫—É."
  />
</svelte:head>

<section id="introduction">
  <Crisis icon="üèùÔ∏è" title="–ü—Ä–æ–±–ª–µ–º–∞ –¥–≤—É—Ö –æ—Å—Ç—Ä–æ–≤–æ–≤">
    <p>
      –¢—ã –∏ —Ç–≤–æ–π –¥—Ä—É–≥ –æ–∫–∞–∑–∞–ª–∏—Å—å –Ω–∞ —Ä–∞–∑–Ω—ã—Ö –æ—Å—Ç—Ä–æ–≤–∞—Ö. –ú–µ–∂–¥—É –≤–∞–º–∏ –Ω–µ—Ç –º–æ—Å—Ç–æ–≤,
      –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞ –∏–ª–∏ –ª–æ–¥–æ–∫. –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π —Å–ø–æ—Å–æ–± —Å–≤—è–∑–∏ ‚Äî –º–æ—â–Ω—ã–π –ø—Ä–æ–∂–µ–∫—Ç–æ—Ä, –∫–æ—Ç–æ—Ä—ã–º
      –º–æ–∂–Ω–æ —Å–≤–µ—Ç–∏—Ç—å –≤ —Å—Ç–æ—Ä–æ–Ω—É –¥—Ä—É–≥–∞.
    </p>
    <p>
      –¢—ã –º–æ–∂–µ—à—å —Ç–æ–ª—å–∫–æ <strong>–≤–∫–ª—é—á–∏—Ç—å —Å–≤–µ—Ç</strong> (—Å–∏–≥–Ω–∞–ª –µ—Å—Ç—å) –∏–ª–∏
      <strong>–≤—ã–∫–ª—é—á–∏—Ç—å</strong> (—Å–∏–≥–Ω–∞–ª–∞ –Ω–µ—Ç).
    </p>

    {#snippet question()}
      <strong>–ü—Ä–æ–±–ª–µ–º–∞:</strong> –¥—Ä—É–≥ —Ö–æ—á–µ—Ç —É–≤–∏–¥–µ—Ç—å —Ç–≤–æ–π —Ä–∏—Å—É–Ω–æ–∫ ‚Äî –Ω–∞–ø—Ä–∏–º–µ—Ä,
      —Å–º–∞–π–ª–∏–∫. –ù–æ —Ç—ã –Ω–µ –º–æ–∂–µ—à—å –ø–µ—Ä–µ–∫–∏–Ω—É—Ç—å –µ–º—É –±—É–º–∞–≥—É. –£ —Ç–µ–±—è –µ—Å—Ç—å —Ç–æ–ª—å–∫–æ
      –º–∏–≥–∞—é—â–∞—è –ª–∞–º–ø–æ—á–∫–∞. –ö–∞–∫ –ø–µ—Ä–µ–¥–∞—Ç—å <em>–∫–∞—Ä—Ç–∏–Ω–∫—É</em>? –ê –∫–∞–∫ –ø–µ—Ä–µ–¥–∞—Ç—å
      <em>–º—É–∑—ã–∫—É</em>?
    {/snippet}
  </Crisis>

  <div class="key-question">
    <p>
      <strong>–ö—Ä–∏–∑–∏—Å:</strong> –Ω–∞—à –º–∏—Ä –±–æ–≥–∞—Ç –∏ –Ω–µ–ø—Ä–µ—Ä—ã–≤–µ–Ω (—Ç—ã—Å—è—á–∏ —Ü–≤–µ—Ç–æ–≤, –ø–ª–∞–≤–Ω—ã–µ
      –∑–≤—É–∫–∏), –∞ –∫–∞–Ω–∞–ª —Å–≤—è–∑–∏ –ø—Ä–∏–º–∏—Ç–∏–≤–µ–Ω. –ö–∞–∫ –≤–º–µ—Å—Ç–∏—Ç—å –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–µ —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–µ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏
      –≤ –æ–¥–Ω—É –º–∏–≥–∞—é—â—É—é –ª–∞–º–ø–æ—á–∫—É?
    </p>
  </div>
</section>

<!-- Part 1: Pixels -->
<section id="pixels" aria-labelledby="pixels-title">
  <h2 id="pixels-title">–û—Ç –∞—Ç–æ–º–æ–≤ –∫ –ø–∏–∫—Å–µ–ª—è–º</h2>

  <p>
    –õ—é–±–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –º–æ–∂–Ω–æ —Ä–∞–∑–±–∏—Ç—å –Ω–∞ –º–∞–ª–µ–Ω—å–∫–∏–µ –∫—É—Å–æ—á–∫–∏. –ï—Å–ª–∏ –∫—É—Å–æ—á–∫–∏
    –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–∞–ª–µ–Ω—å–∫–∏–µ, –≥–ª–∞–∑ –Ω–µ –∑–∞–º–µ—Ç–∏—Ç –ø–æ–¥–≤–æ—Ö–∞.
  </p>

  <div class="metaphor">
    <div class="icon">üß©</div>
    <div class="content">
      <h3>–ú–µ—Ç–∞—Ñ–æ—Ä–∞: –º–æ–∑–∞–∏–∫–∞</h3>
      <p>
        –í—Å–ø–æ–º–Ω–∏ –º–æ–∑–∞–∏–∫—É –∏–ª–∏ –≤—ã—à–∏–≤–∫—É –∫—Ä–µ—Å—Ç–∏–∫–æ–º. –ò–∑–¥–∞–ª–µ–∫–∞ —ç—Ç–æ –∫–∞—Ä—Ç–∏–Ω–∞, –≤–±–ª–∏–∑–∏ ‚Äî
        –Ω–∞–±–æ—Ä —Ü–≤–µ—Ç–Ω—ã—Ö –∫–≤–∞–¥—Ä–∞—Ç–∏–∫–æ–≤. –≠–∫—Ä–∞–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ—á–Ω–æ —Ç–∞–∫ –∂–µ!
      </p>
    </div>
  </div>

  <!-- Interactive 8x8 Grid -->
  <div class="simulation" aria-labelledby="grid-sim-title">
    <h3 id="grid-sim-title">üé® –°–µ—Ç–∫–∞ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏ (8√ó8)</h3>
    <p class="instruction">
      –ö–ª–∏–∫–∞–π –ø–æ –∫–ª–µ—Ç–∫–∞–º, —á—Ç–æ–±—ã –∑–∞–∫—Ä–∞—Å–∏—Ç—å –∏—Ö. –°–ø—Ä–∞–≤–∞ —É–≤–∏–¥–∏—à—å –¥–≤–æ–∏—á–Ω—ã–π –∫–æ–¥ —Ç–≤–æ–µ–≥–æ
      —Ä–∏—Å—É–Ω–∫–∞.
    </p>

    <div class="grid-wrapper">
      <div class="editor" role="grid" aria-label="–†–µ–¥–∞–∫—Ç–æ—Ä –ø–∏–∫—Å–µ–ª–µ–π">
        {#each pixelGrid as row, rowIndex (rowIndex)}
          <div class="row" role="row">
            {#each row as cell, colIndex (colIndex)}
              <button
                class="cell"
                class:filled={cell}
                onclick={() => togglePixel(rowIndex, colIndex)}
                aria-label="–ü–∏–∫—Å–µ–ª—å {rowIndex + 1},{colIndex + 1}: {cell
                  ? '–∑–∞–∫—Ä–∞—à–µ–Ω'
                  : '–ø—É—Å—Ç–æ–π'}"
                aria-pressed={cell}
              ></button>
            {/each}
          </div>
        {/each}
      </div>

      <div class="output">
        <div class="label">–î–≤–æ–∏—á–Ω—ã–π –∫–æ–¥:</div>
        <pre class="code">{gridBinaryFormatted}</pre>
        <div class="stats">
          –í—Å–µ–≥–æ –±–∏—Ç: <strong>{gridBinaryString.length}</strong>
        </div>
      </div>
    </div>

    <button class="clear-btn" onclick={clearGrid} aria-label="–û—á–∏—Å—Ç–∏—Ç—å —Å–µ—Ç–∫—É">
      –û—á–∏—Å—Ç–∏—Ç—å
    </button>

    <p class="insight">
      <strong>–í—ã–≤–æ–¥:</strong> –∫–∞—Ä—Ç–∏–Ω–∫–∞ ‚Äî —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ —Å–ø–∏—Å–æ–∫ —Å–æ—Å—Ç–æ—è–Ω–∏–π –∫–ª–µ—Ç–æ–∫. –ë–µ–ª–∞—è
      = 0, —á—ë—Ä–Ω–∞—è = 1.
    </p>
  </div>
</section>

<!-- Part 2: Color as Number -->
<section id="color" aria-labelledby="color-title">
  <h2 id="color-title">–¶–≤–µ—Ç –∫–∞–∫ —á–∏—Å–ª–æ</h2>

  <p>
    –ß—Ç–æ –¥–µ–ª–∞—Ç—å, –µ—Å–ª–∏ –º–∏—Ä –Ω–µ —á—ë—Ä–Ω–æ-–±–µ–ª—ã–π? –ù–∞–º –Ω—É–∂–Ω–æ –±–æ–ª—å—à–µ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤, —á–µ–º 0 –∏ 1.
    –ù–æ —É –Ω–∞—Å –ø–æ-–ø—Ä–µ–∂–Ω–µ–º—É —Ç–æ–ª—å–∫–æ 0 –∏ 1.
  </p>

  <p>
    –†–µ—à–µ–Ω–∏–µ ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å <strong>–∫–æ–º–±–∏–Ω–∞—Ü–∏–∏</strong>. –ï—Å–ª–∏ 1 –±–∏—Ç –¥–∞—ë—Ç 2
    —Å–æ—Å—Ç–æ—è–Ω–∏—è (—á—ë—Ä–Ω—ã–π/–±–µ–ª—ã–π), —Ç–æ 8 –±–∏—Ç –¥–∞—é—Ç 2<sup>8</sup> = 256 —Å–æ—Å—Ç–æ—è–Ω–∏–π (—É—Ä–æ–≤–Ω–µ–π
    —è—Ä–∫–æ—Å—Ç–∏). –ê —Ç—Ä–∏ –≥—Ä—É–ø–ø—ã –ø–æ 8 –±–∏—Ç (–¥–ª—è –∫—Ä–∞—Å–Ω–æ–≥–æ, –∑–µ–ª—ë–Ω–æ–≥–æ –∏ —Å–∏–Ω–µ–≥–æ) –¥–∞—é—Ç –º–∏–ª–ª–∏–æ–Ω—ã
    —Ü–≤–µ—Ç–æ–≤!
  </p>

  <!-- RGB Color Mixer -->
  <div class="simulation" aria-labelledby="rgb-sim-title">
    <h3 id="rgb-sim-title">üåà –°–º–µ—Å–∏—Ç–µ–ª—å —Å–≤–µ—Ç–∞ (RGB)</h3>
    <p class="instruction">
      –î–≤–∏–≥–∞–π –ø–æ–ª–∑—É–Ω–∫–∏ –∏ —Å–º–æ—Ç—Ä–∏, –∫–∞–∫ –∏–∑ —Ç—Ä—ë—Ö —á–∏—Å–µ–ª —Ä–æ–∂–¥–∞–µ—Ç—Å—è –ª—é–±–æ–π —Ü–≤–µ—Ç.
    </p>

    <div class="mixer">
      <div class="preview" style="background-color: {rgbColor}"></div>

      <div class="sliders">
        <div class="slider-row">
          <label class="label red" for="red-slider">R</label>
          <input
            id="red-slider"
            type="range"
            min="0"
            max="255"
            bind:value={red}
            class="range red"
          />
          <span class="value">{red}</span>
          <code class="binary">{redBinary}</code>
        </div>

        <div class="slider-row">
          <label class="label green" for="green-slider">G</label>
          <input
            id="green-slider"
            type="range"
            min="0"
            max="255"
            bind:value={green}
            class="range green"
          />
          <span class="value">{green}</span>
          <code class="binary">{greenBinary}</code>
        </div>

        <div class="slider-row">
          <label class="label blue" for="blue-slider">B</label>
          <input
            id="blue-slider"
            type="range"
            min="0"
            max="255"
            bind:value={blue}
            class="range blue"
          />
          <span class="value">{blue}</span>
          <code class="binary">{blueBinary}</code>
        </div>
      </div>
    </div>

    <div class="display">
      <span>RGB: ({red}, {green}, {blue})</span>
    </div>

    <p class="insight">
      <strong>–û—Ç–∫—Ä—ã—Ç–∏–µ:</strong> –∂—ë–ª—Ç—ã–π —Ü–≤–µ—Ç ‚Äî —ç—Ç–æ –Ω–µ –º–∞–≥–∏—è, —ç—Ç–æ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–º–µ—Å—å
      (255, 255, 0). –ü–æ–ø—Ä–æ–±—É–π!
    </p>
  </div>
</section>

<!-- Part 3: Sound -->
<section id="sound" aria-labelledby="sound-title">
  <h2 id="sound-title">–ó–≤—É–∫ –∫–∞–∫ –ª–µ—Å—Ç–Ω–∏—Ü–∞</h2>

  <p>
    –ó–≤—É–∫ ‚Äî —ç—Ç–æ –≤–æ–ª–Ω–∞. –û–Ω–∞ –ø–ª–∞–≤–Ω–∞—è. –ù–æ –∫–æ–º–ø—å—é—Ç–µ—Ä –Ω–µ –ø–æ–Ω–∏–º–∞–µ—Ç –ø–ª–∞–≤–Ω–æ—Å—Ç–∏ ‚Äî –æ–Ω
    –ø–æ–Ω–∏–º–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å—Ç—É–ø–µ–Ω—å–∫–∏.
  </p>

  <div class="metaphor">
    <div class="icon">üé¨</div>
    <div class="content">
      <h3>–ú–µ—Ç–∞—Ñ–æ—Ä–∞: –∫–∏–Ω–æ–ø–ª–µ–Ω–∫–∞</h3>
      <p>
        –î–≤–∏–∂–µ–Ω–∏–µ –≤ –∫–∏–Ω–æ –∫–∞–∂–µ—Ç—Å—è –ø–ª–∞–≤–Ω—ã–º, –Ω–æ –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ —ç—Ç–æ 24 —Å—Ç–∞—Ç–∏—á–Ω—ã—Ö
        —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –≤ —Å–µ–∫—É–Ω–¥—É. –°–æ –∑–≤—É–∫–æ–º —Ç–∞–∫ –∂–µ: –º—ã –¥–µ–ª–∞–µ–º —Ç—ã—Å—è—á–∏ –º–≥–Ω–æ–≤–µ–Ω–Ω—ã—Ö
        ¬´—Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π¬ª –≥—Ä–æ–º–∫–æ—Å—Ç–∏ –≤ —Å–µ–∫—É–Ω–¥—É.
      </p>
    </div>
  </div>

  <div class="wave-demo">
    <h3>–û—Ü–∏—Ñ—Ä–æ–≤–∫–∞ –≤–æ–ª–Ω—ã</h3>
    <div class="visual">
      <svg
        viewBox="0 0 400 120"
        class="svg"
        aria-label="–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∞–Ω–∞–ª–æ–≥–æ–≤–æ–≥–æ –∏ —Ü–∏—Ñ—Ä–æ–≤–æ–≥–æ —Å–∏–≥–Ω–∞–ª–∞"
      >
        <!-- Smooth analog wave -->
        <path
          d="M 0 60 Q 25 20, 50 60 Q 75 100, 100 60 Q 125 20, 150 60 Q 175 100, 200 60 Q 225 20, 250 60 Q 275 100, 300 60 Q 325 20, 350 60 Q 375 100, 400 60"
          fill="none"
          stroke="var(--color-primary-500)"
          stroke-width="3"
          stroke-linecap="round"
        />
        <!-- Digital steps -->
        <path
          d="M 0 60 L 25 40 L 25 40 L 50 60 L 50 60 L 75 80 L 75 80 L 100 60 L 100 60 L 125 40 L 125 40 L 150 60 L 150 60 L 175 80 L 175 80 L 200 60 L 200 60 L 225 40 L 225 40 L 250 60 L 250 60 L 275 80 L 275 80 L 300 60 L 300 60 L 325 40 L 325 40 L 350 60 L 350 60 L 375 80 L 375 80 L 400 60"
          fill="none"
          stroke="var(--color-warning-500)"
          stroke-width="2"
          stroke-dasharray="5,3"
        />
        <!-- Sample points -->
        {#each [0, 25, 50, 75, 100, 125, 150, 175, 200, 225, 250, 275, 300, 325, 350, 375, 400] as x, i}
          <circle
            cx={x}
            cy={[
              60, 40, 60, 80, 60, 40, 60, 80, 60, 40, 60, 80, 60, 40, 60, 80,
              60,
            ][i]}
            r="4"
            fill="var(--color-warning-500)"
          />
        {/each}
      </svg>
    </div>
    <div class="legend">
      <span class="analog">‚îÅ –ê–Ω–∞–ª–æ–≥–æ–≤—ã–π —Å–∏–≥–Ω–∞–ª (—Ä–µ–∞–ª—å–Ω—ã–π –∑–≤—É–∫)</span>
      <span class="digital">‚îÖ –¶–∏—Ñ—Ä–æ–≤–æ–π —Å–∏–≥–Ω–∞–ª (–∏–∑–º–µ—Ä–µ–Ω–∏—è)</span>
    </div>
    <p class="caption">
      –ß–µ–º —á–∞—â–µ –º—ã –∏–∑–º–µ—Ä—è–µ–º –≤—ã—Å–æ—Ç—É –≤–æ–ª–Ω—ã, —Ç–µ–º —Ç–æ—á–Ω–µ–µ —Ü–∏—Ñ—Ä–æ–≤–∞—è –∫–æ–ø–∏—è.
    </p>
  </div>
</section>

<!-- Formalization -->
<section id="formalization" aria-labelledby="formalization-title">
  <h2 id="formalization-title">–§–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è</h2>

  <p>–ü–µ—Ä–µ—Ö–æ–¥–∏–º –æ—Ç –∏–Ω—Ç—É–∏—Ü–∏–∏ –∫ —Å—Ç—Ä–æ–≥–∏–º –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è–º.</p>

  <DefinitionCard title="–ë–∏—Ç (Bit)">
    <p>
      –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –µ–¥–∏–Ω–∏—Ü–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏. –¢–æ —Å–∞–º–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–æ–∂–µ–∫—Ç–æ—Ä–∞: –≤–∫–ª—é—á–µ–Ω (1)
      –∏–ª–∏ –≤—ã–∫–ª—é—á–µ–Ω (0).
    </p>
  </DefinitionCard>

  <DefinitionCard title="–ë–∞–π—Ç (Byte)">
    <p>
      ¬´–°–ª–æ–≤–æ¬ª –∫–æ–º–ø—å—é—Ç–µ—Ä–∞ ‚Äî –≥—Ä—É–ø–ø–∞ –∏–∑ 8 –±–∏—Ç–æ–≤. –ü–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞—Ç—å 2<sup
        >8</sup
      > = 256 –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ (—Å–∏–º–≤–æ–ª –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã –∏–ª–∏ —É—Ä–æ–≤–µ–Ω—å —è—Ä–∫–æ—Å—Ç–∏).
    </p>
  </DefinitionCard>

  <DefinitionCard title="–ö–æ–¥–∏—Ä–æ–≤–∫–∞ (Encoding)">
    <p>
      –¢–∞–±–ª–∏—Ü–∞ –¥–æ–≥–æ–≤–æ—Ä—ë–Ω–Ω–æ—Å—Ç–µ–π. –î–ª—è —Ç–µ–∫—Å—Ç–∞: ASCII/Unicode (–±—É–∫–≤–∞ ¬´–ê¬ª = —á–∏—Å–ª–æ 65 =
      01000001). –î–ª—è –∫–∞—Ä—Ç–∏–Ω–∫–∏: RGB.
    </p>
  </DefinitionCard>

  <div class="formula">
    <h3>–§–æ—Ä–º—É–ª–∞ —É—Ä–æ–∫–∞</h3>
    <div class="display">
      N<sub>–≤–∞—Ä–∏–∞–Ω—Ç–æ–≤</sub> = 2<sup>k</sup>
    </div>
    <p>
      –≥–¥–µ k ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∏—Ç–æ–≤. –ß–µ–º –±–æ–ª—å—à–µ –±–∏—Ç–æ–≤ –º—ã —Ç—Ä–∞—Ç–∏–º –Ω–∞ –æ–ø–∏—Å–∞–Ω–∏–µ –æ–¥–Ω–æ–π
      —Ç–æ—á–∫–∏ (–ø–∏–∫—Å–µ–ª—è –∏–ª–∏ –∑–≤—É–∫–∞), —Ç–µ–º —Ç–æ—á–Ω–µ–µ –∫–æ–ø–∏—è —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏, –Ω–æ —Ç–µ–º –±–æ–ª—å—à–µ
      ¬´–≤–µ—Å–∏—Ç¬ª —Ñ–∞–π–ª.
    </p>
  </div>
</section>

<section id="summary">
  <Summary title="–†–µ–∑—é–º–µ">
    <blockquote>
      –¶–∏—Ñ—Ä–æ–≤–æ–π –º–∏—Ä ‚Äî —ç—Ç–æ –∏–ª–ª—é–∑–∏—è –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ—Å—Ç–∏. –õ—é–±—É—é –∫–∞—Ä—Ç–∏–Ω–∫—É, –ø–µ—Å–Ω—é –∏–ª–∏ –≤–∏–¥–µ–æ
      –º–æ–∂–Ω–æ —Ä–∞–∑—Ä–µ–∑–∞—Ç—å –Ω–∞ –∫—Ä–æ—à–µ—á–Ω—ã–µ –∫—É—Å–æ—á–∫–∏ –∏ –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç—å –≤ –æ–≥—Ä–æ–º–Ω—ã–π, –Ω–æ –ø—Ä–æ—Å—Ç–æ–π
      —Å–ø–∏—Å–æ–∫ —á–∏—Å–µ–ª.
    </blockquote>
    <p>
      –ö–æ–º–ø—å—é—Ç–µ—Ä ‚Äî —ç—Ç–æ –Ω–µ –≤–æ–ª—à–µ–±–Ω—ã–π —è—â–∏–∫, –∞ —Å–≤–µ—Ä—Ö–±—ã—Å—Ç—Ä—ã–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä, –∫–æ—Ç–æ—Ä—ã–π
      –ø—Ä–æ—Å—Ç–æ —á–∏—Ç–∞–µ—Ç —ç—Ç–æ—Ç —Å–ø–∏—Å–æ–∫ –∏ –∑–∞–∂–∏–≥–∞–µ—Ç –Ω—É–∂–Ω—ã–µ —Ç–æ—á–∫–∏ –Ω–∞ —ç–∫—Ä–∞–Ω–µ.
    </p>
  </Summary>
</section>

<style>
  /* Introduction */
  #introduction {
    .key-question {
      font-size: 1.25rem;
      text-align: center;
      padding: 2rem;
      padding-bottom: 0;
      background: var(--color-surface-100);
      border-radius: var(--radius-container);
      margin-top: 2.5rem;
      margin-bottom: 2.5rem;
      border: 1px solid var(--color-surface-200);
    }
  }

  /* Pixels */
  #pixels {
    .metaphor {
      display: flex;
      gap: 1.5rem;
      background: var(--color-surface-50);
      border-radius: var(--radius-container);
      padding: 2rem;
      margin: 2rem 0;
      border: 1px solid var(--color-surface-200);

      .icon {
        font-size: 3rem;
        flex-shrink: 0;
      }

      .content {
        h3 {
          color: var(--color-surface-900);
          margin-bottom: 0.5rem;
        }

        p {
          font-size: 1.125rem;
          margin-bottom: 1rem;

          &:last-child {
            margin-bottom: 0;
          }
        }
      }
    }

    .simulation {
      background: var(--color-surface-100);
      border-radius: var(--radius-container);
      padding: 2.5rem;
      margin: 2rem 0;
      box-shadow: 0 4px 12px
        color-mix(in oklab, var(--color-surface-900) 0.08, transparent);

      h3 {
        font-size: 1.5rem;
        text-align: center;
        margin-bottom: 1.5rem;
      }

      .instruction {
        text-align: center;
        font-size: 1.125rem;
        color: var(--color-surface-600);
        margin-bottom: 2rem;
      }

      .grid-wrapper {
        display: flex;
        gap: 3rem;
        justify-content: center;
        align-items: flex-start;
        flex-wrap: wrap;
        margin-bottom: 1.5rem;

        .editor {
          display: flex;
          flex-direction: column;
          gap: 2px;
          background: var(--color-surface-300);
          padding: 2px;
          border-radius: var(--radius-base);

          .row {
            display: flex;
            gap: 2px;
          }

          .cell {
            width: 40px;
            height: 40px;
            border: none;
            background: var(--color-surface-50);
            cursor: pointer;
            transition: all 0.15s;

            &:hover {
              background: var(--color-surface-200);
            }

            &.filled {
              background: var(--color-surface-950);
            }
          }
        }

        .output {
          background: var(--color-surface-100);
          border: 2px solid var(--color-surface-300);
          border-radius: calc(var(--radius-container) * 2);
          padding: 1.5rem;
          min-width: 220px;

          .label {
            color: var(--color-surface-700);
            font-size: 1rem;
            font-weight: 600;
            margin-bottom: 0.75rem;
          }

          .code {
            font-family: monospace;
            font-size: 1.125rem;
            color: var(--color-surface-900);
            background: white;
            padding: 1rem;
            border-radius: var(--radius-base);
            margin: 0;
            line-height: 1.6;
            white-space: pre;
            letter-spacing: 0.15em;
          }

          .stats {
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 1px solid var(--color-surface-300);
            color: var(--color-surface-600);
            font-size: 1rem;
          }
        }
      }

      .clear-btn {
        display: block;
        margin: 1.5rem auto 0;
        padding: 0.75rem 2rem;
        border: none;
        border-radius: var(--radius-base);
        background: var(--color-surface-200);
        color: var(--color-surface-900);
        font-size: 1rem;
        cursor: pointer;
        transition: all 0.2s;

        &:hover {
          background: var(--color-surface-300);
        }
      }

      .insight {
        text-align: center;
        font-size: 1.125rem;
        margin: 1.5rem 0 0;
        padding: 1rem;
        background: var(--color-surface-50);
        border-radius: var(--radius-base);
      }
    }
  }

  /* Color */
  #color {
    .simulation {
      background: var(--color-surface-100);
      border-radius: var(--radius-container);
      padding: 2.5rem;
      margin: 2rem 0;
      box-shadow: 0 4px 12px
        color-mix(in oklab, var(--color-surface-900) 0.08, transparent);

      h3 {
        font-size: 1.5rem;
        text-align: center;
        margin-bottom: 1.5rem;
      }

      .instruction {
        text-align: center;
        font-size: 1.125rem;
        color: var(--color-surface-600);
        margin-bottom: 2rem;
      }

      .mixer {
        display: flex;
        gap: 3rem;
        align-items: center;
        justify-content: center;
        flex-wrap: wrap;
        margin-bottom: 1.5rem;

        .preview {
          width: 150px;
          height: 150px;
          border-radius: 50%;
          box-shadow: 0 4px 12px
            color-mix(in oklab, var(--color-surface-900) 0.1, transparent);
          transition: background-color 0.2s;
        }

        .sliders {
          display: flex;
          flex-direction: column;
          gap: 1rem;
          min-width: 300px;

          .slider-row {
            display: flex;
            align-items: center;
            gap: 1rem;

            .label {
              font-size: 1.25rem;
              font-weight: 700;
              width: 30px;
              text-align: center;

              &.red {
                color: #dc3545;
              }
              &.green {
                color: #28a745;
              }
              &.blue {
                color: #007bff;
              }
            }

            .range {
              flex: 1;
              height: 8px;
              appearance: none;
              border-radius: 4px;
              cursor: pointer;

              &.red {
                background: linear-gradient(to right, #000, #ff0000);
              }
              &.green {
                background: linear-gradient(to right, #000, #00ff00);
              }
              &.blue {
                background: linear-gradient(to right, #000, #0000ff);
              }

              &::-webkit-slider-thumb {
                appearance: none;
                width: 20px;
                height: 20px;
                border-radius: 50%;
                background: white;
                border: 2px solid var(--color-surface-400);
                box-shadow: 0 2px 4px
                  color-mix(in oklab, var(--color-surface-900) 0.1, transparent);
                cursor: pointer;
              }
            }

            .value {
              font-family: monospace;
              font-size: 1rem;
              min-width: 40px;
              text-align: right;
            }

            .binary {
              font-family: monospace;
              font-size: 0.75rem;
              color: var(--color-surface-500);
              min-width: 80px;
            }
          }
        }
      }

      .display {
        text-align: center;
        font-family: monospace;
        font-size: 1.25rem;
        padding: 1rem;
        background: var(--color-surface-200);
        border-radius: var(--radius-base);
        margin-bottom: 1rem;
      }

      .insight {
        text-align: center;
        font-size: 1.125rem;
        margin: 1.5rem 0 0;
        padding: 1rem;
        background: var(--color-surface-50);
        border-radius: var(--radius-base);
      }
    }
  }

  /* Sound */
  #sound {
    .metaphor {
      display: flex;
      gap: 1.5rem;
      background: var(--color-surface-50);
      border-radius: var(--radius-container);
      padding: 2rem;
      margin: 2rem 0;
      border: 1px solid var(--color-surface-200);

      .icon {
        font-size: 3rem;
        flex-shrink: 0;
      }

      .content {
        h3 {
          color: var(--color-surface-900);
          margin-bottom: 0.5rem;
        }

        p {
          font-size: 1.125rem;
          margin-bottom: 1rem;

          &:last-child {
            margin-bottom: 0;
          }
        }
      }
    }

    .wave-demo {
      background: var(--color-surface-100);
      border-radius: var(--radius-container);
      padding: 2rem;
      margin: 2rem 0;
      text-align: center;
      border: 2px solid var(--color-surface-200);

      h3 {
        margin-bottom: 1.5rem;
      }

      .visual {
        background: var(--color-surface-50);
        border-radius: var(--radius-base);
        padding: 1.5rem;
        margin-bottom: 1rem;

        .svg {
          width: 100%;
          max-width: 500px;
          height: auto;
        }
      }

      .legend {
        display: flex;
        justify-content: center;
        gap: 2rem;
        flex-wrap: wrap;
        font-size: 0.875rem;
        margin-bottom: 1rem;

        .analog {
          color: var(--color-primary-600);
        }

        .digital {
          color: var(--color-warning-600);
        }
      }

      .caption {
        font-size: 1.125rem;
        color: var(--color-surface-600);
        margin: 0;
      }
    }
  }

  /* Formalization */
  #formalization {
    .formula {
      background: var(--color-surface-100);
      border-radius: var(--radius-container);
      padding: 2rem 2.5rem;
      margin: 2rem 0;
      text-align: center;

      h3 {
        margin-bottom: 1rem;
      }

      .display {
        font-size: 2rem;
        font-weight: 600;
        color: var(--color-primary-700);
        padding: 1.5rem;
        background: var(--color-surface-50);
        border-radius: var(--radius-base);
        display: inline-block;
        margin-bottom: 1rem;
      }

      p {
        font-size: 1.125rem;
        margin: 0;
        color: var(--color-surface-600);
      }
    }
  }

  /* Summary */
  #summary {
    blockquote {
      border-left: 4px solid var(--color-success-500);
      padding-left: 1rem;
      margin: 1.5rem 0;
    }

    p {
      font-size: 1.25rem;
      margin: 0;
      color: var(--color-surface-700);
    }
  }

  /* Responsive */
  @media (max-width: 1100px) {
    #pixels {
      .metaphor {
        flex-direction: column;
      }

      .simulation {
        .grid-wrapper {
          flex-direction: column;
          align-items: center;
        }

        .editor {
          .cell {
            width: 32px;
            height: 32px;
          }
        }
      }
    }

    #color {
      .simulation {
        .mixer {
          flex-direction: column;
        }

        .sliders {
          width: 100%;
          min-width: unset;

          .binary {
            display: none;
          }
        }
      }
    }

    #sound {
      .metaphor {
        flex-direction: column;
      }

      .wave-demo {
        .legend {
          flex-direction: column;
          gap: 0.5rem;
        }
      }
    }
  }
</style>
