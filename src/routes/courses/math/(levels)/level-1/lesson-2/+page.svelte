<script lang="ts">
  import {
    Crisis,
    FormalBlock,
    QuizCard,
    Section,
    Summary,
  } from "../../components";

  let showAnswer = $state(false);
</script>

<svelte:head>
  <meta
    name="description"
    content="–£—Ä–æ–∫ 1.2: –†–∞–≤–µ–Ω—Å—Ç–≤–æ ‚Äî —ç—Ç–æ –±–∞–ª–∞–Ω—Å. –ü–æ–Ω–∏–º–∞–µ–º –∑–Ω–∞–∫ '=' –∫–∞–∫ –≤–µ—Å—ã, –∞ –Ω–µ –∫–∞–∫ –∫–æ–º–∞–Ω–¥—É '–ø–æ—Å—á–∏—Ç–∞—Ç—å'."
  />
</svelte:head>

<Section id="crisis">
  <Crisis title="–°–ª–æ–º–∞–Ω–Ω—ã–π –º–æ—Å—Ç" icon="üåâ">
    <p>
      –ü—Ä–µ–¥—Å—Ç–∞–≤—å, —á—Ç–æ —Ç—ã —Å—Ç—Ä–æ–∏—à—å –º–æ—Å—Ç. –°–ª–µ–≤–∞ —É —Ç–µ–±—è –±–∞–ª–∫–∞ –≤–µ—Å–æ–º 5 —Ç–æ–Ω–Ω. –°–ø—Ä–∞–≤–∞ ‚Äî
      –¥–≤–µ –±–∞–ª–∫–∏: 2 —Ç–æ–Ω–Ω—ã –∏ 3 —Ç–æ–Ω–Ω—ã. –ï—Å–ª–∏ –ª–µ–≤–∞—è –∏ –ø—Ä–∞–≤–∞—è —á–∞—Å—Ç–∏ –Ω–µ –±—É–¥—É—Ç
      —É—Ä–∞–≤–Ω–æ–≤–µ—à–µ–Ω—ã, –º–æ—Å—Ç —Ä—É—Ö–Ω–µ—Ç.
    </p>
    <div class="bridge-visual">
      <div class="side left">5—Ç</div>
      <div class="pivot">‚ñ≤</div>
      <div class="side right">2—Ç + 3—Ç</div>
    </div>
    <blockquote>
      –í —à–∫–æ–ª–µ –Ω–∞—Å —É—á–∏–ª–∏, —á—Ç–æ <code>=</code> ‚Äî —ç—Ç–æ –∫–Ω–æ–ø–∫–∞ –Ω–∞ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–µ, –ø–æ—Å–ª–µ –∫–æ—Ç–æ—Ä–æ–π
      –ø–æ—è–≤–ª—è–µ—Ç—Å—è –æ—Ç–≤–µ—Ç. –ù–æ –≤ —Ä–µ–∞–ª—å–Ω–æ–π –∂–∏–∑–Ω–∏ (–∏ –≤ –∏–Ω–∂–µ–Ω–µ—Ä–∏–∏) –∑–Ω–∞–∫ —Ä–∞–≤–µ–Ω—Å—Ç–≤–∞ –æ–∑–Ω–∞—á–∞–µ—Ç
      <strong>–±–∞–ª–∞–Ω—Å</strong>.
    </blockquote>
  </Crisis>
</Section>

<Section
  id="scales-demo"
  title="–í–µ—Å—ã –∏—Å—Ç–∏–Ω—ã"
  description="–ó–Ω–∞–∫ ¬´=¬ª —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –∞–ø—Ç–µ–∫–∞—Ä—Å–∫–∏–µ –≤–µ—Å—ã. –õ–µ–≤–∞—è —á–∞—à–∞ –¥–æ–ª–∂–Ω–∞ –≤–µ—Å–∏—Ç—å —Ä–æ–≤–Ω–æ —Å—Ç–æ–ª—å–∫–æ –∂–µ, —Å–∫–æ–ª—å–∫–æ –ø—Ä–∞–≤–∞—è. –ù–µ –≤–∞–∂–Ω–æ, –∫–∞–∫ –≤—ã–≥–ª—è–¥—è—Ç –≥–∏—Ä—å–∫–∏, –≤–∞–∂–µ–Ω –∏—Ö –æ–±—â–∏–π –≤–µ—Å."
>
  <div class="scales-demo">
    <div class="scale-pan">
      <div class="weight-circle">5</div>
    </div>
    <div class="scale-center">=</div>
    <div class="scale-pan">
      <div class="weight-group">
        <div class="weight-circle small">2</div>
        <div class="weight-circle small">3</div>
      </div>
    </div>
  </div>
  <p class="caption">
    5 ‚Äî —ç—Ç–æ –Ω–µ ¬´–æ—Ç–≤–µ—Ç¬ª. 5 ‚Äî —ç—Ç–æ —Ç–æ –∂–µ —Å–∞–º–æ–µ, —á—Ç–æ 2 + 3, –ø—Ä–æ—Å—Ç–æ –∑–∞–ø–∏—Å–∞–Ω–Ω–æ–µ –∏–Ω–∞—á–µ.
  </p>
</Section>

<Section id="formal-definition">
  <FormalBlock title="–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ">
    <p>
      <strong>–†–∞–≤–µ–Ω—Å—Ç–≤–æ</strong> ‚Äî —ç—Ç–æ —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ, —á—Ç–æ –æ–±—ä–µ–∫—Ç—ã —Å–ª–µ–≤–∞ –∏ —Å–ø—Ä–∞–≤–∞ –∏–º–µ—é—Ç
      –æ–¥–∏–Ω–∞–∫–æ–≤—É—é —Ü–µ–Ω–Ω–æ—Å—Ç—å (–≤–µ—Å, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ, –¥–ª–∏–Ω—É), –¥–∞–∂–µ –µ—Å–ª–∏ –≤—ã–≥–ª—è–¥—è—Ç –ø–æ-—Ä–∞–∑–Ω–æ–º—É.
    </p>
    <div class="formula">A = B</div>
    <p class="explanation">
      ¬´–ê¬ª —É—Ä–∞–≤–Ω–æ–≤–µ—à–∏–≤–∞–µ—Ç ¬´B¬ª. –ú—ã –º–æ–∂–µ–º –∑–∞–º–µ–Ω–∏—Ç—å ¬´–ê¬ª –Ω–∞ ¬´B¬ª –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç, –∏
      –Ω–∏—á–µ–≥–æ –Ω–µ —Å–ª–æ–º–∞–µ—Ç—Å—è.
    </p>
  </FormalBlock>
</Section>

<Section
  id="quiz"
  title="–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –ø—Ä–æ—á–Ω–æ—Å—Ç—å"
  description="–ü–æ–ø—Ä–æ–±—É–π –Ω–∞–π—Ç–∏ –æ—à–∏–±–∫—É –≤ –ø–æ–Ω–∏–º–∞–Ω–∏–∏ –∑–Ω–∞–∫–∞ —Ä–∞–≤–µ–Ω—Å—Ç–≤–∞."
>
  <div class="quiz-container">
    <QuizCard title="–ì–¥–µ –ø—Ä–∞–≤–¥–∞?">
      <div class="question">
        –ö–∞–∫–æ–µ —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ª—É—á—à–µ –æ–ø–∏—Å—ã–≤–∞–µ—Ç –∑–Ω–∞–∫ <code>=</code>?
      </div>
      {#snippet answer()}
        <p>
          <strong>–≠—Ç–æ –≤–µ—Å—ã.</strong> –õ–µ–≤–∞—è –∏ –ø—Ä–∞–≤–∞—è —á–∞—Å—Ç–∏ —Ä–∞–≤–Ω–æ—Ü–µ–Ω–Ω—ã. –í–∞—Ä–∏–∞–Ω—Ç ¬´—ç—Ç–æ
          –∫–Ω–æ–ø–∫–∞ "–ø–æ–ª—É—á–∏—Ç—å –æ—Ç–≤–µ—Ç"¬ª ‚Äî —Å–∞–º–∞—è —á–∞—Å—Ç–∞—è –æ—à–∏–±–∫–∞ –Ω–æ–≤–∏—á–∫–æ–≤.
        </p>
      {/snippet}
    </QuizCard>

    <QuizCard title="–ü–µ—Ä–µ–≤–µ—Ä—Ç—ã—à">
      <div class="question">–ü—Ä–∞–≤–∏–ª—å–Ω–æ –ª–∏ –Ω–∞–ø–∏—Å–∞—Ç—å <code>5 = 2 + 3</code>?</div>
      {#snippet answer()}
        <p>
          <strong>–ê–±—Å–æ–ª—é—Ç–Ω–æ!</strong> –ï—Å–ª–∏ –≤–µ—Å—ã —É—Ä–∞–≤–Ω–æ–≤–µ—à–µ–Ω—ã, –Ω–µ–≤–∞–∂–Ω–æ, —Å –∫–∞–∫–æ–π —Å—Ç–æ—Ä–æ–Ω—ã
          –ª–µ–∂–∞—Ç –≥–∏—Ä—å–∫–∏. –ß–∏—Ç–∞—Ç—å –º–æ–∂–Ω–æ –∏ —Å–ø—Ä–∞–≤–∞ –Ω–∞–ª–µ–≤–æ.
        </p>
      {/snippet}
    </QuizCard>
  </div>
</Section>

<Section id="summary">
  <Summary title="–ö–ª—é—á–µ–≤–∞—è –º—ã—Å–ª—å">
    <p>
      –ó–Ω–∞–∫ —Ä–∞–≤–µ–Ω—Å—Ç–≤–∞ (<code>=</code>) ‚Äî —ç—Ç–æ –Ω–µ –∫–æ–º–∞–Ω–¥–∞ –∫ –¥–µ–π—Å—Ç–≤–∏—é. –≠—Ç–æ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
      <strong>—Ä–∞–≤–Ω–æ–≤–µ—Å–∏—è</strong>. –ö–æ–≥–¥–∞ —Ç—ã –ø–∏—à–µ—à—å –∫–æ–¥ –∏–ª–∏ —Ä–µ—à–∞–µ—à—å —É—Ä–∞–≤–Ω–µ–Ω–∏–µ, —Ç—ã
      –≤—ã—Å—Ç—É–ø–∞–µ—à—å –≤ —Ä–æ–ª–∏ –∏–Ω–∂–µ–Ω–µ—Ä–∞, –∫–æ—Ç–æ—Ä—ã–π —Å–ª–µ–¥–∏—Ç, —á—Ç–æ–±—ã –º–æ—Å—Ç –Ω–µ –ø–µ—Ä–µ–∫–æ—Å–∏–ª–æ.
    </p>
  </Summary>
</Section>

<style>
  /* Crisis */
  :global(#crisis) {
    .bridge-visual {
      display: flex;
      align-items: flex-end;
      justify-content: center;
      gap: 1rem;
      margin: 2rem 0;
      font-family: "Consolas", monospace;
      font-size: 1.5rem;

      .side {
        padding: 1rem 2rem;
        border-bottom: 4px solid var(--color-surface-900);
        background: var(--color-surface-100);
        border-radius: var(--radius-base) var(--radius-base) 0 0;
      }

      .pivot {
        color: var(--color-primary-600);
        font-size: 2rem;
        transform: translateY(4px);
      }
    }
  }

  /* Scales Demo */
  :global(#scales-demo) {
    .scales-demo {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 2rem;
      margin: 3rem 0;

      .scale-pan {
        display: flex;
        justify-content: center;
        align-items: center;
        width: 120px;
        height: 120px;
        border-radius: 50%;
        background: var(--color-surface-200);
        box-shadow: inset 0 -4px 0 rgba(0, 0, 0, 0.1);

        .weight-circle {
          width: 60px;
          height: 60px;
          border-radius: 50%;
          background: var(--color-primary-500);
          color: white;
          display: flex;
          align-items: center;
          justify-content: center;
          font-size: 1.5rem;
          font-weight: 700;
          box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);

          &.small {
            width: 45px;
            height: 45px;
            font-size: 1.2rem;
            background: var(--color-secondary-500);
          }
        }

        .weight-group {
          display: flex;
          gap: 0.5rem;
        }
      }

      .scale-center {
        font-size: 3rem;
        font-weight: 800;
        color: var(--color-primary-600);
      }
    }

    .caption {
      text-align: center;
      font-style: italic;
      color: var(--color-surface-600);
      margin-top: 1rem;
    }
  }

  /* Formal Definition */
  :global(#formal-definition) {
    .formula {
      font-family: "Consolas", monospace;
      font-size: 2.5rem;
      text-align: center;
      margin: 1.5rem 0;
      color: var(--color-primary-700);
      font-weight: 700;
    }

    .explanation {
      text-align: center;
      color: var(--color-surface-700);
    }
  }

  /* Quiz */
  :global(#quiz) {
    .quiz-container {
      display: grid;
      gap: 1.5rem;

      .question {
        font-size: 1.1rem;
        font-weight: 500;
        margin-bottom: 1rem;
      }
    }
  }

  /* Summary */
  :global(#summary) {
    p {
      font-size: 1.1rem;
      line-height: 1.6;
    }
  }

  @media (max-width: 768px) {
    :global(#scales-demo) .scales-demo {
      flex-direction: column;
      gap: 1rem;

      .scale-center {
        transform: rotate(90deg);
      }
    }
  }
</style>